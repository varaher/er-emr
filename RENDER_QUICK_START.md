# üöÄ Render Deployment - Quick Start

## ‚úÖ Files Created for Render Deployment

### 1. **build.sh** (Backend build script)
- Location: `/app/backend/build.sh`
- Installs emergentintegrations from custom index
- Then installs all other dependencies

### 2. **render.yaml** (Render configuration)
- Location: `/app/render.yaml`
- Defines service configuration for one-click deploy

### 3. **requirements-render.txt** (Clean requirements)
- Location: `/app/backend/requirements-render.txt`
- Same as requirements.txt but WITHOUT emergentintegrations

### 4. **RENDER_DEPLOYMENT.md** (Full deployment guide)
- Location: `/app/RENDER_DEPLOYMENT.md`
- Complete step-by-step instructions

---

## üéØ Deploy in 3 Steps

### Step 1: Setup MongoDB Atlas (Free)
1. Go to https://www.mongodb.com/cloud/atlas
2. Create free cluster
3. Get connection string: `mongodb+srv://username:password@cluster.mongodb.net/`
4. Whitelist all IPs: `0.0.0.0/0`

### Step 2: Deploy to Render
1. Go to https://dashboard.render.com
2. Click "New +" ‚Üí "Web Service"
3. Connect your GitHub repo
4. Use these settings:
   ```
   Build Command: cd backend && chmod +x build.sh && ./build.sh
   Start Command: cd backend && uvicorn server:app --host 0.0.0.0 --port $PORT
   ```

### Step 3: Set Environment Variables in Render
```
MONGO_URL = mongodb+srv://your-connection-string
DB_NAME = er_emr_database
CORS_ORIGINS = *
EMERGENT_LLM_KEY = sk-emergent-1489bD95832530eB39
JWT_SECRET = (auto-generated by Render)
JWT_ALGORITHM = HS256
JWT_EXPIRATION_MINUTES = 43200
```

**That's it!** ‚úÖ Your backend will be live at `https://your-app.onrender.com`

---

## üîß Update Frontend to Use Render Backend

In `/app/frontend/.env`:
```env
REACT_APP_BACKEND_URL=https://your-app-name.onrender.com
```

---

## üìä What Happens During Deployment?

1. Render pulls your code from GitHub
2. Runs `build.sh`:
   - Upgrades pip
   - Installs `emergentintegrations` from custom index
   - Installs all other dependencies
3. Starts FastAPI server with `uvicorn`
4. Your API is live!

---

## ‚ö†Ô∏è Important Notes

- **Free Tier Limitation**: App sleeps after 15 min of inactivity
- **First Request**: Will be slow (~30 sec) as app wakes up
- **Paid Plan**: $7/month for always-on service
- **emergentintegrations**: Installed automatically via build.sh

---

## üÜò Troubleshooting

### Build Fails?
- Check Render logs in dashboard
- Verify `build.sh` has correct permissions
- Ensure emergentintegrations URL is accessible

### App Won't Start?
- Verify all environment variables are set
- Check MongoDB connection string is correct
- View logs: Dashboard ‚Üí Your Service ‚Üí Logs

### CORS Errors?
- Update `CORS_ORIGINS` to include your frontend URL
- Use comma-separated list for multiple origins

---

## ‚úÖ Verify Deployment

Test your deployed API:
```bash
curl https://your-app.onrender.com/docs
```

You should see FastAPI's auto-generated documentation!

---

## üéâ Success!

Your ER-EMR backend is now deployed on Render with `emergentintegrations` working perfectly!

Need detailed instructions? See `RENDER_DEPLOYMENT.md`
